<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        function Shape() {
            this.container = document.createElement('div');
            this.container.style.position = 'absolute';
        }

        Shape.prototype.setBackColor = function (value) {
            this.container.style.backgroundColor = value;
        };

        Shape.prototype.setWidth = function (value) {
            this.container.style.width = value + 'px';
        };

        Shape.prototype.setHeight = function (value) {
            this.container.style.height = value + 'px';
        };

        Shape.prototype.setBorder = function (width, style, color) {
            this.container.style.borderWidth = width + 'px';
            this.container.style.borderStyle = style;
            this.container.style.borderColor = color;
        };

        Shape.prototype.setRadius = function (radius) {
            this.container.style.borderRadius = radius + '%'
        }

        Shape.prototype.setPosition = function (x, y) {
            this.container.style.left = x + 'px';
            this.container.style.top = y + 'px';
        };

        Shape.prototype.add = function (element) {
            this.container.appendChild(element);
        };

        Shape.prototype.setDisplay = function (type, x, y) {
            this.container.style.display = type;
            this.container.style.justifyContent = x;
            this.container.style.alignItems = y;
        };

        document.body.style.display = 'flex';
        document.body.style.justifyContent = 'center';
        document.body.style.alignItems = 'center';
        document.body.style.height = '100vh'
        document.body.style.margin = '0'

        var table = new Shape();
        table.setBackColor('royalblue');
        table.setWidth(600);
        table.setHeight(300);
        table.setBorder(10, 'solid', 'black')

        document.body.appendChild(table.container);

        var paddleL = new Shape()
        paddleL.setBackColor('black')
        paddleL.setWidth(10)
        paddleL.setHeight(50)
        //paddleL.setBorder(2, 'solid', 'black')
        paddleL.setPosition(20, 125)

        table.add(paddleL.container)

        var paddleR = new Shape()
        paddleR.setBackColor('black')
        paddleR.setWidth(10)
        paddleR.setHeight(50)
        paddleR.setPosition(570, 125)

        table.add(paddleR.container)


        var yPaddleL = 125;
        var yPaddleR = 125;
        var tableHeight = 295;

        document.onkeydown = function (event) {
            if (event.key === 'w') {
                if (yPaddleL > 0) {
                    yPaddleL -= 10;
                    paddleL.setPosition(20, yPaddleL);
                }
            } else if (event.key === 's') {
                if (yPaddleL + 45 < tableHeight) {
                    yPaddleL += 10;
                    paddleL.setPosition(20, yPaddleL);
                }
            } else if (event.key === "ArrowUp") {
                if (yPaddleR > 0) {
                    yPaddleR -= 10;
                    paddleR.setPosition(570, yPaddleR);
                }
            } else if (event.key === "ArrowDown") {
                if (yPaddleR + 45 < tableHeight) {
                    yPaddleR += 10;
                    paddleR.setPosition(570, yPaddleR);
                }
            }
        }

        var ball = new Shape()
        ball.setWidth('10')
        ball.setHeight('10')
        ball.setRadius('50')
        ball.setBackColor('white')
        ball.setPosition(290, 140)

        table.add(ball.container);



        var xBall = 290;
        var yBall = 140;
        var xSpeedBall = 1.2;
        var ySpeedBall = 0.3;

        function moveBall() {
            xBall += xSpeedBall;
            yBall += ySpeedBall;

            if (xBall <= 0 || xBall + 10 >= 600) {
                xSpeedBall = -xSpeedBall;
            } else if (yBall <= 0 || yBall + 10 >= 300) {
                ySpeedBall = -ySpeedBall;
            }

            if (xBall <= 30 && yBall >= yPaddleL && yBall <= yPaddleL + 50) {
                xSpeedBall = -xSpeedBall;
            } else if (xBall + 10 >= 570 && yBall >= yPaddleR && yBall <= yPaddleR + 50) {
                xSpeedBall = -xSpeedBall;
            }

            ball.setPosition(xBall, yBall);
        }



        setInterval(moveBall);

    </script>
</body>

</html>