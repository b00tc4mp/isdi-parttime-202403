<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego</title>
</head>
<body>
    <h1>Intento de juego XD</h1>
    <ul>
        <li>"A" to say hi</li>
        <li>Arrow to move</li>
        <li>"S" to blink</li>
        <li>Move to rigth to get a surprise</li>
        <p style="text-align: right; left: 1500px;position: absolute;line-height: 3">odio CSS.</p>
    </ul>
    
    
    <script >

        function Shape () {
            this.container = document.createElement('div')

            this.container.style.position = 'absolute'
        }

        Shape.prototype.add = function (child) {
            this.container.appendChild(child.container)
        }

        Shape.prototype.setHeight = function (value) {
            this.container.style.height = value + 'px'
        }

        Shape.prototype.setWidth = function (value) {
            this.container.style.width = value + 'px'
        }

        Shape.prototype.setColor = function (value) {
            this.container.style.backgroundColor = value 
        }

        Shape.prototype.setRadius = function (value) {
            this.container.style.borderRadius = value + '%'
        }

        Shape.prototype.setX = function (value) {
            this.container.style.left = value + 'px'
        }

        Shape.prototype.setY = function (value) {
            this.container.style.top = value + 'px'
        }

        Shape.prototype.rotate = function (value) {
            this.container.style.transform = `rotate(${value}deg)`
        }

        Shape.prototype.smile = function (height, width){
            this.container.style.height = height + 'px'
            this.container.style.width = width + 'px'
            this.container.style.borderColor = 'black'
            this.container.style.border = '4px solid black'
            this.container.style.borderTop = 'transparent'
            this.container.style.borderRight = 'transparent'
            this.container.style.borderLeft = 'transparent'
            this.container.style.borderRadius = 40+ '%'
        }

        Shape.prototype.setCurver = function (bottomLeftRadius, bottomRightRadius){
            this.container.style.borderBottomLeftRadius = bottomLeftRadius + 'px';
            this.container.style.borderBottomRightRadius = bottomRightRadius + 'px';
        }

        // Shape.prototype.triangle (height, width) {
        //     this.container.style.borderLeftWidth = height + 'px'
        //     this.container.style.borderLeftStyle = 'solid'
        //     this.container.style.borderLeftColor = 'transparent'
        //     this.container.style.borderRigthWidth = height + 'px'
        //     this.container.style.borderRigthStyle = 'solid'
        //     this.container.style.borderRigthColor = 'transparent'
        //     this.container.style.borderTopWidth = width + 'px'
        //     this.container.style.borderTopStyle = 'solid'
        //     this.container.style.borderTopColor = 'black'
            
        // }

        var face = new Shape()
        face.setWidth(150)
        face.setHeight(150)
        face.setRadius(50)
        face.setColor('pink')
        face.setX(-50)
        face.setY(-140)

        var body = new Shape()
        body.setWidth(50)
        body.setHeight(200)
        body.setColor('pink')
        
        body.add(face)

        var smile = new Shape()
        smile.smile(60,60)
        smile.setX(45)
        smile.setY(60)

        face.add(smile)

        var eyeL = new Shape()
        eyeL.setWidth(30)
        eyeL.setHeight(30)
        eyeL.setRadius(50)
        eyeL.setColor('black')
        eyeL.setX(30)
        eyeL.setY(50)

        face.add(eyeL)

        var eyeR = new Shape()
        eyeR.setWidth(30)
        eyeR.setHeight(30)
        eyeR.setRadius(50)
        eyeR.setColor('black')
        eyeR.setX(90)
        eyeR.setY(50)

        face.add(eyeR)


        var footL = new Shape ()
        footL.setWidth(30)
        footL.setHeight(170)
        footL.setColor('pink')
        footL.rotate(5)
        footL.setX(-8)
        footL.setY(180)

        body.add(footL)

        var footR= new Shape ()
        footR.setWidth(30)
        footR.setHeight(170)
        footR.setColor('pink')
        footR.rotate(-5)
        footR.setX(28)
        footR.setY(180)

        body.add(footR)

        var armL= new Shape ()
        armL.setWidth(30)
        armL.setHeight(85)
        armL.setColor('pink')
        armL.rotate(30)
        armL.setX(-30)
        armL.setY(42)

        body.add(armL)

        var forearmL= new Shape ()
        forearmL.setWidth(30)
        forearmL.setHeight(85)
        forearmL.setColor('pink')
        forearmL.rotate(15)
        forearmL.setX(-60)
        forearmL.setY(110)

        body.add(forearmL) 

        var armR= new Shape ()
        armR.setWidth(30)
        armR.setHeight(85)
        armR.setColor('pink')
        armR.rotate(-30)
        armR.setX(50)
        armR.setY(42)

        body.add(armR)
        
        var forearmR= new Shape ()
        forearmR.setWidth(30)
        forearmR.setHeight(85)
        forearmR.setColor('pink')
        forearmR.rotate(-15)
        forearmR.setX(78)
        forearmR.setY(110)

        body.add(forearmR)

        var x = 200
        var y = 180

        body.setX(x)
        body.setY(y)
        
        var startAnimation = false
        var handMovement = false 

        var blink = function () {
            if (!startAnimation) {
                startAnimation = true

                var tongue = new Shape()
                tongue.setHeight(30)
                tongue.setWidth(30)
                tongue.setColor('red')
                tongue.setX()
                tongue.setY(60)
                tongue.rotate(15)
                tongue.setCurver(50,50)

                smile.add(tongue)

                eyeL.setWidth(30)
                eyeL.setHeight(5)
                eyeL.setColor('black')
                eyeL.setX(30)
                eyeL.setY(60)

                setTimeout(() => {
                        eyeL.setWidth(30)
                        eyeL.setHeight(30)
                        eyeL.setRadius(50)
                        eyeL.setColor('black')
                        eyeL.setX(30)
                        eyeL.setY(50)
    
                        tongue.setHeight(0)
                        tongue.setWidth(0)
                        startAnimation = false
                        }, 2000)
                    }

                }   

        var hello =  ()=> {
            if (!startAnimation) {
                startAnimation = true
                armL.setWidth(30)
                armL.setHeight(85)
                armL.setColor('pink')
                armL.rotate(65)
                armL.setX(-45)
                armL.setY(30)

                forearmL.setWidth(30)
                forearmL.setHeight(85)
                forearmL.setColor('pink')
                forearmL.rotate(-15)
                forearmL.setX(-85)
                forearmL.setY(12)

                setTimeout(() => {
                    forearmL.setWidth(30)
                    forearmL.setHeight(85)
                    forearmL.setColor('pink')
                    forearmL.rotate(15)
                    forearmL.setX(-58)
                    forearmL.setY(110)

                    armL.setWidth(30)
                    armL.setHeight(85)
                    armL.setColor('pink')
                    armL.rotate(30)
                    armL.setX(-30)
                    armL.setY(42)
                    startAnimation = false
                    
                    if (!startAnimation) {
                    startAnimation = true
                    armL.setWidth(30)
                    armL.setHeight(85)
                    armL.setColor('pink')
                    armL.rotate(65)
                    armL.setX(-45)
                    armL.setY(30)
    
                    forearmL.setWidth(30)
                    forearmL.setHeight(85)
                    forearmL.setColor('pink')
                    forearmL.rotate(-45)
                    forearmL.setX(-95)
                    forearmL.setY(12)

                    setTimeout(() => {
                        forearmL.setWidth(30)
                        forearmL.setHeight(85)
                        forearmL.setColor('pink')
                        forearmL.rotate(15)
                        forearmL.setX(-58)
                        forearmL.setY(110)
    
                        armL.setWidth(30)
                        armL.setHeight(85)
                        armL.setColor('pink')
                        armL.rotate(30)
                        armL.setX(-30)
                        armL.setY(42)
                        startAnimation = false
                        }, 500)
                    }
                }, 2000)
            }
        }

        document.onkeydown = function (event) {

            if(event.key === 'ArrowLeft')
            x -= 10
            else if ( event.key === 'ArrowRight')
            x += 10
            else if ( event.key === 'a') {
                setTimeout(hello,0)
                
            } else if ( event.key === 's') {
                setTimeout(blink,1000)
            }
            body.setX(x)
        }
        document.body.appendChild(body.container)
    </script>
</body>
</html>

