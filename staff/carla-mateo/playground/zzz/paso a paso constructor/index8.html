<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shapes</title>
</head>

<body>

</body>

<script>

    function Shape() {
        this.container = document.createElement('div')
        this.container.style.position = 'absolute'
    }

    Shape.prototype.setHeight = function (value) {
        this.container.style.height = value + 'px'
    }
    Shape.prototype.setWidth = function (value) {
        this.container.style.width = value + 'px'
    }
    Shape.prototype.setRadius = function (value) {
        this.container.style.borderRadius = value + '%'
    }
    Shape.prototype.setColor = function (value) {
        this.container.style.backgroundColor = value
    }
    Shape.prototype.setX = function (value) {
        this.container.style.left = value + 'px'
    }
    Shape.prototype.setY = function (value) {
        this.container.style.top = value + 'px'
    }
    Shape.prototype.setZ = function (value) {
        this.container.style.transitionProperty = 'transform'
        this.container.style.transitionDuration = '0.1s'
        this.container.style.transform = 'scale(' + (value + 100) / 100 + ' )'
    }
    Shape.prototype.add = function (child) {
        this.container.appendChild(child.container)
    }

    function Pig() {
        Shape.call(this)

        this.setColor('green')
        this.setHeight(130)
        this.setWidth(100)
        this.setX(100)
        this.setY(200)

        var eyeL = new Shape()
        eyeL.setHeight(50)
        eyeL.setWidth(50)
        eyeL.setRadius(50)
        eyeL.setColor('black')
        eyeL.setX(50)
        eyeL.setY(30)

        var eyeR = new Shape()
        eyeR.setHeight(50)
        eyeR.setWidth(50)
        eyeR.setRadius(50)
        eyeR.setColor('black')
        eyeR.setX(110)
        eyeR.setY(30)

        var face = new Shape()
        face.setColor('pink')
        face.setHeight(200)
        face.setWidth(200)
        face.setRadius(50)
        face.setX(-50)
        face.setY(-200)

        face.add(eyeL)
        face.add(eyeR)

        this.add(face)

        var footL = new Shape()
        footL.setColor('brown')
        footL.setHeight(100)
        footL.setWidth(50)
        footL.setX(-20)
        footL.setY(130)

        this.add(footL)

        var footR = new Shape()
        footR.setColor('brown')
        footR.setHeight(100)
        footR.setWidth(50)
        footR.setX(70)
        footR.setY(130)

        this.add(footR)
    }

    Pig.prototype = Object.create(Shape.prototype)
    Pig.prototype.constructor = Pig


    var pig = new Pig()
    var pig2 = new Pig()

    var x = 200
    var y = 300
    var z = 0

    var x2 = 300
    var y2 = 400
    var z2 = 0

    pig.setX(x)
    pig.setY(y)

    pig2.setX(x2)
    pig2.setY(y2)

    var step = 20

    var applyOnY = true

    document.onkeydown = function (event) {
        console.log(event.key)

        if (event.key === 'ArrowLeft')
            x -= step
        else if (event.key === 'ArrowRight')
            x += step
        else if (event.key === 'ArrowUp') {
            if (applyOnY)
                y -= step
            else
                z -= step
        } else if (event.key === 'ArrowDown') {
            if (applyOnY)
                y += step
            else
                z += step
        } else if (event.key === 'a')
            x2 -= step
        else if (event.key === 'd')
            x2 += step
        else if (event.key.toLowerCase() === 'w') {
            if (applyOnY)
                y2 -= step
            else
                z2 -= step
        } else if (event.key.toLowerCase() === 's') {
            if (applyOnY)
                y2 += step
            else
                z2 += step
        } else if (event.key === 'Shift')
            applyOnY = false

        pig.setX(x)
        pig.setY(y)
        pig.setZ(z)

        pig.setX(x2)
        pig.setY(y2)
        pig.setZ(z2)
    }

    document.onkeyup = function (event) {
        console.log(event.key)

        if (event.key === 'Shift')
            applyOnY = true
    }



    // setInterval(() function() {body.setY(y + Math.random() * 50), 1000)}

    document.body.appendChild(pig.container)
    document.body.appendChild(pig2.container)

</script>


</html>